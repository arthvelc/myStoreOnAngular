import{a as O}from"./chunk-IAQKVNPN.js";import{a as M}from"./chunk-DTPXPP37.js";import{i as z,j as F,q as B}from"./chunk-6YHZQOLZ.js";import{Ia as p,La as o,U as m,Ua as u,Z as b,_a as s,bb as P,cb as w,db as D,eb as r,fb as i,ga as y,gb as T,ha as h,hb as E,kb as g,lb as f,rb as l,sb as v,tb as _,vb as j,yb as k,zb as U}from"./chunk-TZAUWE6X.js";function V(c,e){if(c&1){let n=E();r(0,"img",13),g("click",function(){let a=y(n).$implicit,d=f();return h(d.changeCoverImage(a))}),i()}if(c&2){let n=e.$implicit,t=f();s("src",t.getSafeUrl(n),p)}}var x=class c{productService=m(O);cartService=m(M);sanitizer=m(B);product=u(null);coverImage=u("");productId;ngOnInit(){console.log("se inicializo el componente"),this.productId&&this.productService.getProductById(this.productId).subscribe({next:e=>{this.product.set(e),console.log("Product",e),e.images.length>0&&this.coverImage.set(e.images[0])},error:e=>console.error("Error al obtener el producto: ",e)})}changeCoverImage(e){this.coverImage.set(e)}addToCart(){let e=this.product();e&&(this.cartService.addProductToCart(e),console.log("Se agreg\xF3 al carrito el producto:  ",e.title))}getSafeUrl(e){return this.sanitizer.bypassSecurityTrustUrl(e)}static \u0275fac=function(n){return new(n||c)};static \u0275cmp=b({type:c,selectors:[["app-product-detail"]],inputs:{productId:"productId"},standalone:!0,features:[j],decls:20,vars:7,consts:[[1,"w-full","flex","space-x-10"],[1,"flex","flex-col","w-1/3"],[1,"w-full","rounded","border","border-gray-200"],["alt","product image",1,"w-full","object-cover","object-center",3,"src"],[1,"flex","items-center","justify-center","mt-1"],[1,"grid","grid-cols-3","gap-1"],["alt","product image",1,"w-20","h-20","object-cover","object-center","cursor-pointer",3,"src"],[1,"mt-5","w-full"],[1,"text-sm","title-font","text-gray-500","tracking-widest"],[1,"text-gray-900","text-3xl","title-font","font-medium","mb-1"],[1,"leading-relaxed"],[1,"title-font","font-medium","text-2xl","text-gray-900","mt-5"],[1,"flex","text-white","bg-red-500","border-0","py-2","px-6","focus:outline-none","hover:bg-red-600","rounded",3,"click"],["alt","product image",1,"w-20","h-20","object-cover","object-center","cursor-pointer",3,"click","src"]],template:function(n,t){if(n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),T(3,"img",3),i(),r(4,"div",4)(5,"div",5),w(6,V,1,1,"img",6,P),i()()(),r(8,"div",7)(9,"h2",8),l(10),i(),r(11,"h1",9),l(12),i(),r(13,"p",10),l(14),i(),r(15,"p",11),l(16),k(17,"currency"),i(),r(18,"button",12),g("click",function(){return t.addToCart()}),l(19," Add To Cart "),i()()()),n&2){let a,d,S,C,I;o(3),s("src",t.getSafeUrl(t.coverImage()),p),o(3),D((a=t.product())==null?null:a.images),o(4),v((d=t.product())==null||d.category==null?null:d.category.name),o(2),_(" ",(S=t.product())==null?null:S.title," "),o(2),_(" ",(C=t.product())==null?null:C.description," "),o(2),v(U(17,5,(I=t.product())==null?null:I.price))}},dependencies:[z,F],encapsulation:2})};export{x as default};
